<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>oxygen</title>
  
  <subtitle>道阻且跻</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-11-24T11:08:06.057Z</updated>
  <id>http://yoursite.com/</id>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>搭建Hexo博客</title>
    <link href="http://yoursite.com/2019/11/24/%E6%90%AD%E5%BB%BAHexo%E5%8D%9A%E5%AE%A2/"/>
    <id>http://yoursite.com/2019/11/24/%E6%90%AD%E5%BB%BAHexo%E5%8D%9A%E5%AE%A2/</id>
    <published>2019-11-24T11:03:14.980Z</published>
    <updated>2019-11-24T11:08:06.057Z</updated>
    
    <content type="html"><![CDATA[<p>忽然觉得Hexo搭建博客很快，对，那就折腾一下吧！</p><h4 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h4><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-<span class="keyword">cli</span></span><br></pre></td></tr></table></figure><a id="more"></a><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo init</span></span><br></pre></td></tr></table></figure><h4 id="本地运行"><a href="#本地运行" class="headerlink" title="本地运行"></a>本地运行</h4><ul><li>安装依赖</li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span></span><br></pre></td></tr></table></figure><ul><li>生成静态文件</li></ul><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">generate</span> / hexo g</span><br></pre></td></tr></table></figure><ul><li>本地运行</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo<span class="built_in"> server </span>/ hexo s</span><br></pre></td></tr></table></figure><h4 id="关联并发布到GitHub"><a href="#关联并发布到GitHub" class="headerlink" title="关联并发布到GitHub"></a><a href="https://hexo.io/zh-cn/docs/one-command-deployment#Git" target="_blank" rel="noopener">关联并发布到GitHub</a></h4><ul><li>修改<code>_config.yml</code>文件的<code>deploy</code></li></ul><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">type</span>: <span class="string">'git'</span></span><br><span class="line">  <span class="attr">repo</span>: <span class="string">&lt;your GitHub repository url&gt;</span></span><br><span class="line">  <span class="attr">branch</span>: <span class="string">master</span></span><br><span class="line">  <span class="attr">message</span>: <span class="string">&lt;自定义提交信息&gt;</span></span><br></pre></td></tr></table></figure><ul><li>安装 hexo-deployer-git</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-deployer-git <span class="comment">--save</span></span><br></pre></td></tr></table></figure><ul><li>发布</li></ul><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">deploy</span> / hexo d</span><br></pre></td></tr></table></figure><h4 id="使用next主题"><a href="#使用next主题" class="headerlink" title="使用next主题"></a><a href="https://github.com/theme-next/hexo-theme-next/blob/master/docs/zh-CN/README.md" target="_blank" rel="noopener">使用next主题</a></h4><ul><li>安装</li></ul><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/theme-<span class="keyword">next</span>/hexo-theme-<span class="keyword">next</span> themes/<span class="keyword">next</span></span><br></pre></td></tr></table></figure><ul><li>配置，找到<code>_config.yml</code>里的<code>theme</code>字段，修改为<code>next</code></li></ul><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: <span class="keyword">next</span></span><br></pre></td></tr></table></figure><ul><li>发布，如果不生效先执行<code>hexo clean</code></li></ul><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo d -g</span></span><br></pre></td></tr></table></figure><h4 id="配置next"><a href="#配置next" class="headerlink" title="配置next"></a>配置next</h4><blockquote><p>设置菜单栏</p></blockquote><ul><li>打开<code>themes/next</code>主题下的<code>_config.yml</code>文件，找到<code>menu</code>字段</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  #about: /about/ || user</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  categories: /categories/ || th</span><br><span class="line">  archives: /archives/ || archivemenu</span><br></pre></td></tr></table></figure><ul><li>新建categories和tags标签页</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo new<span class="built_in"> page </span>tags</span><br><span class="line"></span><br><span class="line">hexo new<span class="built_in"> page </span>categories</span><br></pre></td></tr></table></figure><ul><li>设置tags和categories页面显示内容</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">博客分类</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="number">-11</span><span class="number">-24</span> <span class="number">14</span><span class="string">:46:37</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">"categories"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">title:</span> <span class="string">博客标签</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="number">-11</span><span class="number">-24</span> <span class="number">14</span><span class="string">:45:33</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">"tags"</span></span><br></pre></td></tr></table></figure><ul><li>在编辑markdown的时候，在顶部添加表示就能正常显示了</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Hello</span> <span class="string">World</span></span><br><span class="line"><span class="attr">categories:</span> <span class="string">测试分类</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">[bullshit,what]</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><blockquote><p>设置代码高亮风格</p></blockquote><ul><li>找到<code>themes/next/_config.yml</code>文件的<code>highlight_theme</code>字段，可以设置注释给的几种样式</li><li>找到根目录<code>_config.yml</code>文件的<code>highlight</code>，将<code>auto_detect</code>设为<code>true</code></li><li>重新编译并运行就可以生效了</li></ul><blockquote><p>设置文章评论</p></blockquote><ul><li>找到<code>themes/next/_config.yml</code>的<code>comments</code>字段，随便选一种使用就行</li></ul><blockquote><p>折叠首页文章显示内容</p></blockquote><ul><li>找到<code>themes/next/_config.yml</code>的<code>auto_excerpt</code>字段，设置为<code>true</code></li><li>重新编译并运行</li></ul><blockquote><p>自定义404页面</p></blockquote><ul><li>首先创建一个404页面文件</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new<span class="built_in"> page </span>404</span><br></pre></td></tr></table></figure><ul><li>编辑404页面之前，头部要添加如下一段代码，这样404页面会内嵌在markdown渲染后的框架里</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">some</span> <span class="string">error</span></span><br><span class="line"><span class="attr">toc:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">/404</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><blockquote><p>自定义Favicon</p></blockquote><ul><li>可以去<a href="https://favicon.io/" target="_blank" rel="noopener">favicon.io</a>这个网站找一个Favicon，然后下载下来</li><li>将Favicon图片放在<code>themes/next/source/images</code>文件夹中</li><li>设置<code>themes/next/_config.yml</code>的<code>favicon</code>字段，将文件路径改成自己的Favicon文件名</li><li>重新编译并运行即可生效</li></ul><blockquote><p>添加GA</p></blockquote><ul><li>找到<code>themes/next/_config.yml</code>的<code>google_analytics</code>字段，将UA-id填进去</li></ul><blockquote><p>设置搜索</p></blockquote><ul><li>安装第三方插件<code>hexo-generator-searchdb</code></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-generator-searchdb <span class="comment">--save</span></span><br></pre></td></tr></table></figure><ul><li>编辑根目录<code>_config.yml</code>文件，在文件末尾添加下面这段代码</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#搜索</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br></pre></td></tr></table></figure><ul><li>编辑<code>themes/next/_config.yml</code>文件，找到并设置<code>local_search</code>为<code>true</code></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;忽然觉得Hexo搭建博客很快，对，那就折腾一下吧！&lt;/p&gt;&lt;h4 id=&quot;初始化&quot;&gt;&lt;a href=&quot;#初始化&quot; class=&quot;headerlink&quot; title=&quot;初始化&quot;&gt;&lt;/a&gt;初始化&lt;/h4&gt;&lt;figure class=&quot;highlight avrasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;npm install -g hexo-&lt;span class=&quot;keyword&quot;&gt;cli&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="其他" scheme="http://yoursite.com/categories/%E5%85%B6%E4%BB%96/"/>
    
    
      <category term="blog" scheme="http://yoursite.com/tags/blog/"/>
    
  </entry>
  
</feed>
